\chapter{Set theory}
Set theory have one primitive notion, called set, and one binary relation, called set membership, denoted by $\in$.

\begin{defn}
\label{Definition:notin}
Definition of $\notin$.
\begin{align*}
& \forall x \forall y ( \\
& \quad && && x \notin y \\
& \quad && \overset{\operatorname{def}}{\iff} && \lnot (x \in y) \\
& )
\end{align*}
\end{defn}

\begin{defn}
\begin{align*}
& \forall x \in S, P(x) \\
\overset{\operatorname{def}}{\iff} & \forall x ((x \in S) \implies (P(x)))
\end{align*}
\end{defn}

\begin{defn}
\begin{align*}
& \exists x \in S, P(x) \\
\overset{\operatorname{def}}{\iff} & \exists x ((x \in S) \land (P(x)))
\end{align*}
\end{defn}

\begin{prop}
\label{Proposition:forall_true}
\begin{align*}
& \forall x (\text{True}) \\
\iff & \text{True}
\end{align*}
\end{prop}

\section{Equality of sets}
\begin{defn}
\label{Definition:equality}
Definition of $=$.
\begin{align*}
& \forall x \forall y ( \\
& \quad && && x = y \\
& \quad && \overset{\operatorname{def}}{\iff} && \forall z ((z \in x) \iff (z \in y)) \\
& )
\end{align*}
\end{defn}

\begin{defn}
\label{Definition:neq}
Definition of $\neq$.
\begin{align*}
& \forall x \forall y ( \\
& \quad && && x \neq y \\
& \quad && \overset{\operatorname{def}}{\iff} && \lnot (x = y) \\
& )
\end{align*}
\end{defn}

\begin{prop}
\label{Proposition:equality_reflexive}
Reflexive property of equality.
\begin{align*}
& \forall x ( \\
& \quad && \forall x (x = x) \\
& )
\end{align*}
Proof of Proposition \ref{Proposition:iff_reflexive}
\begin{align*}
& \forall x ( \\
& \quad && && x = x \\
& \quad && \overset{\operatorname{def}}{\iff} && \forall a ((a \in x) \iff (a \in x))
&& \text{Definition \ref{Definition:equality}} \\
& \quad && \iff && \forall a (\text{True})
&& \text{Proposition \ref{Proposition:iff_reflexive}} \\
& \quad && \iff && \text{True}
&& \text{Proposition \ref{Proposition:forall_true}} \\
& )
\end{align*}
\end{prop}

\begin{prop}
Symmetric property of equality
\begin{align*}
\forall x \forall y ((x = y) \implies (y=x))
\end{align*}
Proof:
\begin{align*}
& \forall x \forall y ( \\
& \quad &&  &&  x = y \\
& \quad && \implies &&  \forall z (z \in x \iff z \in y)
&& \text{Definition \ref{Definition:equality}} \\
& \quad && \implies &&  \forall z (z \in y \iff z \in x)
&& \text{Proposition \ref{Proposition:iff_symmetric}} \\
& \quad && \implies && y = x
&& \text{Definition \ref{Definition:equality}} \\
& )
\end{align*}
\end{prop}

\begin{prop}
Transitive property of equality
\begin{align*}
\forall x \forall y \forall z ((x = y) \land (y=z) \implies (x=z))
\end{align*}
Proof:
\begin{align*}
& \forall x \forall y \forall z ( \\
& \quad &&  &&  (x = y) \land (y=z) \\
& \quad && \implies && ( \forall w (w \in x \iff w \in y)) \land ( \forall w (w \in y \iff w \in z))
&& \text{Definition \ref{Definition:equality}} \\
& \quad && \implies && \forall w ((w \in x \iff w \in y) \land (w \in y \iff w \in z))
&& \text{Proposition \ref{Proposition:forall_land_commutativity}} \\
& \quad && \implies && \forall w (w \in x \iff w \in z)
&& \text{Proposition \ref{Proposition:iff_transitive}} \\
& \quad && \implies && x = z
&& \text{Definition \ref{Definition:equality}} \\
& )
\end{align*}
\end{prop}

\begin{axm}
Axiom of extensionality
\begin{align*}
& \forall x \forall y ( \\
& x = y \implies \forall A (x \in A  \iff y \in A) \\
& )
\end{align*}
\end{axm}

\begin{axm}
\label{Axiom:existence_of_empty_set}
Existence of empty set
\begin{align*}
\exists x \forall y (y \notin x)
\end{align*}
\end{axm}

\begin{prop}
\label{Proposition:uniqueness_of_empty_set}
Uniqueness of empty set.
\begin{align*}
!\exists x \forall y (y \notin x)
\end{align*}
Proof: \\
Let $P(x) = \forall y (y \notin x)$
\begin{align*}
& \exists x \forall y (y \notin x) && \text{Axiom \ref{Axiom:existence_of_empty_set}} \\
\implies & \exists x, P(x) && \text{Definition of P(x)}
\end{align*}
\begin{align*}
& \forall x \forall y ( \\
& \quad && &&  P(x) \land P(y) \\
& \quad && \implies &&  (\forall z (z \notin x)) \land (\forall z (z \notin y))
&& \text{Definition of P(x)} \\
& \quad && \implies && \forall z ((z \notin x) \land (z \notin y))
&& \text{Proposition \ref{Proposition:forall_land_commutativity}} \\
& \quad && \implies && \forall z (z \notin x \iff z \notin y)
&& \text{Proposition \ref{Proposition:land_implies_iff}} \\
& \quad && \implies && \forall z (\lnot(z \in x) \iff \lnot (z \in y))
&& \text{Definition \ref{Definition:notin}} \\
& \quad && \implies && \forall z (z \in x \iff z \in y)
&& \text{Proposition \ref{Proposition:iff_contrapositive}} \\
& \quad && \implies && x = y
&& \text{Definition \ref{Definition:equality}} \\
& )
\end{align*}
\begin{align*}
& (\exists x, P(x)) \land \forall x \forall y ( (P(x) \land P(y)) \implies (x=y) ) \\
\implies & !\exists x, P(x) && \text{Definition \ref{Definition:uniqueness_quantifier}} \\
\implies & !\exists x \forall y (y \notin x) && \text{Definition of P(x)} \\
\end{align*}
\end{prop}

\begin{defn}
\label{Definition:emptyset}
The unique empty set is denoted by $\emptyset$. \\
\begin{align*}
\forall x (x \notin \emptyset)
\end{align*}
Proof: \\
Let $P(x) = \forall y (y \notin x)$
\begin{align*}
& !\exists x \forall y (y \notin x) && \text{Proposition \ref{Proposition:uniqueness_of_empty_set}} \\
\implies & !\exists x, P(x)
&& \text{Definition of P(x)} \\
\implies & (\exists x, P(x)) \land \forall x \forall y ( (P(x) \land P(y)) \implies (x=y) )
&& \text{Definition \ref{Definition:uniqueness_quantifier}} \\
\implies & P(\emptyset) \land \forall x ( (P(x) \land P(\emptyset)) \implies (x=\emptyset) )
&& \text{Definition \ref{Definition:emptyset}} \\
\implies & P(\emptyset)
&& \text{Proposition \ref{Proposition:land_omit}} \\
\implies & \forall y (y \notin \emptyset)
&& \text{Definition of P(x)} \\
\end{align*}
\end{defn}

\begin{prop}
\label{Proposition:uniqueness_of_emptyset}
Uniqueness of $\emptyset$
\begin{align*}
\forall x (\forall y (y \notin x) \implies (x=\emptyset))
\end{align*}
Proof: \\
Let $P(x) = \forall y (y \notin x)$
\begin{align*}
& !\exists x \forall y (y \notin x) && \text{Proposition \ref{Proposition:uniqueness_of_empty_set}} \\
\implies & !\exists x, P(x)
&& \text{Definition of P(x)} \\
\implies & (\exists x, P(x)) \land \forall x \forall y ( (P(x) \land P(y)) \implies (x=y) )
&& \text{Definition \ref{Definition:uniqueness_quantifier}} \\
\implies & P(\emptyset) \land \forall x ( (P(x) \land P(\emptyset)) \implies (x=\emptyset) )
&& \text{Definition \ref{Definition:emptyset}} \\
\implies & (\forall x, P(\emptyset)) \land \forall x ( (P(x) \land P(\emptyset)) \implies (x=\emptyset) )
&& \text{Axiom \ref{Axiom:forall_independent_variable}} \\
\implies & \forall x ( P(\emptyset) \land ((P(x) \land P(\emptyset)) \implies (x=\emptyset)) )
&& \text{Proposition \ref{Proposition:forall_land_commutativity}} \\
\implies & \forall x (P(x) \implies (x=\emptyset))
&& \text{Proposition \ref{Proposition:lemma_uniqueness}} \\
\implies & \forall x (\forall y (y \notin x) \implies (x=\emptyset))
&& \text{Definition of P(x)} \\
\end{align*}
\end{prop}

\begin{prop}
Single choice
\begin{align*}
\forall x((x \neq \emptyset) \implies (\exists y, y \in x))
\end{align*}
Proof:
\begin{align*}
& \forall x (\forall y (y \notin x) \implies (x=\emptyset)) \\
\implies & \forall x ( \lnot(x=\emptyset) \implies \lnot (\forall y (y \notin x)) )
&& \text{Proposition \ref{Proposition:contrapositive}} \\
\implies & \forall x ( (x \neq \emptyset) \implies \lnot (\forall y (y \notin x)) )
&& \text{Definition \ref{Definition:neq}} \\
\implies & \forall x ( (x \neq \emptyset) \implies (\exists y, \lnot(y \notin x)) )
&& \text{Axiom \ref{Axiom:De_Morgan_1}} \\
\implies & \forall x ( (x \neq \emptyset) \implies (\exists y, \lnot( \lnot (y \in x))) )
&& \text{Definition \ref{Definition:notin}} \\
\implies & \forall x ( (x \neq \emptyset) \implies (\exists y, y \in x ))
&& \text{Proposition \ref{Proposition:double_negation}} \\
\end{align*}
\end{prop}

\begin{axm}
\label{Axiom:axiom_of_pairing}
Axiom of pairing. Existence of pair set.
\begin{align*}
\forall x \forall y \exists A \forall z (z \in A \iff ((z=x) \lor (z=y)))
\end{align*}
\end{axm}

\begin{prop}
\label{Proposition:uniqueness_of_pairing_set}
Uniqueness of pairing set.
\begin{align*}
\forall x \forall y !\exists A \forall z (z \in A \iff ((z=x) \lor (z=y)))
\end{align*}
Proof: \\
Let $P(A,x,y) =  \forall z (z \in A \iff ((z=x) \lor (z=y)))$
\begin{align*}
& \forall x \forall y \forall A \forall B ( \\
& \quad && &&  P(A,x,y) \land P(B,x,y) \\
& \quad && \implies &&  (\forall z (z \in A \iff ((z=x) \lor (z=y)))) \\
& \quad && && \land      (\forall z (z \in B \iff ((z=x) \lor (z=y))))
&& \text{Definition of P(A,x,y)} \\
& \quad && \implies &&  \forall z ((z \in A \iff ((z=x) \lor (z=y))) \\
& \quad && && \land                    (z \in B \iff ((z=x) \lor (z=y))))
&& \text{Proposition \ref{Proposition:forall_land_commutativity}} \\
& \quad && \implies && \forall z (z \in A \iff z \in B)
&& \text{Proposition \ref{Proposition:iff_transitive}} \\
& \quad && \implies && A = B
&& \text{Definition \ref{Definition:equality}} \\
& )
\end{align*}
\begin{align*}
& \forall x \forall y !\exists A, P(A,x,y)
&& \text{Similar to the proof of the Proposition \ref{Proposition:uniqueness_of_empty_set}} \\
\implies & \forall x \forall y !\exists A \forall z (z \in A \iff ((z=x) \lor (z=y))) && \text{Definition of P(A,x,y)} \\
\end{align*}
\end{prop}

\begin{defn}
\label{Definition:pair_set}
The unique pair set of x and y is denoted by $\{ x,y \}$. \\
Let $P(A,x,y) =  \forall z (z \in A \iff ((z=x) \lor (z=y)))$ \\
Similar to the proof of Definition \ref{Definition:emptyset},
\begin{align*}
\forall x \forall y P(\{ x,y \} ,x,y)
\end{align*}
Similar to the proof of Proposition \ref{Proposition:uniqueness_of_emptyset},
\begin{align*}
\forall x \forall y \forall A (P(A,x,y) \implies (A=\{ x,y \}))
\end{align*}
\end{defn}

\begin{prop}
\label{Proposition:existence_of_singleton_set}
Existence of singleton set.
\begin{align*}
\forall x \exists A \forall y (y \in A \iff (y=x))
\end{align*}
Proof:
\begin{align*}
& \forall x \exists A \forall y (y \in A \iff ((y=x) \lor (y=x)))
&& \text{Axiom \ref{Axiom:axiom_of_pairing}} \\
\implies & \forall x \exists A \forall y (y \in A \iff (y=x))
&& \text{Proposition \ref{Proposition:lor_idempotence}} \
\end{align*}
\end{prop}

\begin{prop}
\label{Proposition:uniqueness_of_singleton_set}
Uniqueness of singleton set.
\begin{align*}
\forall x !\exists A \forall y (y \in A \iff (x=y))
\end{align*}
Let $P(A,x) =  \forall y (y \in A \iff (x=y))$ \\
The proof is similar to the proof of Proposition \ref{Proposition:uniqueness_of_pairing_set}.
\end{prop}

\begin{defn}
\label{Definition:singleton_set}
The unique singleton set of x is denoted by $\{ x\}$. \\
Let $P(A,x) =  \forall y (y \in A \iff (x=y))$ \\
Similar to the proof of Definition \ref{Definition:emptyset},
\begin{align*}
\forall x P(\{ x \} ,x)
\end{align*}
Similar to the proof of Proposition \ref{Proposition:uniqueness_of_emptyset},
\begin{align*}
\forall x \forall A (P(A,x) \implies (A=\{ x \}))
\end{align*}
\end{defn}

\begin{axm}
\label{Axiom:axiom_of_union}
Axiom of union. Existence of union set.
\begin{align*}
\forall F \exists A \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F))))
\end{align*}
\end{axm}

\begin{prop}
\label{Proposition:uniqueness_of_union_set}
Uniqueness of union set.
\begin{align*}
\forall F !\exists A \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F))))
\end{align*}
Proof: \\
Let $P(A,F) =  \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F))))$
\begin{align*}
& \forall F \forall A \forall B ( \\
& \quad && &&  P(A,F) \land P(B,F) \\
& \quad && \implies &&  ( \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F)))) ) \\
& \quad && && \land      ( \forall x (x \in B \iff (\exists Y ((x \in Y) \land (Y \in F)))) )
&& \text{Definition of P(A,F)} \\
& \quad && \implies &&  \forall x ( (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F)))) \\
& \quad && && \land                    (x \in B \iff (\exists Y ((x \in Y) \land (Y \in F)))) )
&& \text{Proposition \ref{Proposition:forall_land_commutativity}} \\
& \quad && \implies && \forall x (x \in A \iff x \in B)
&& \text{Proposition \ref{Proposition:iff_transitive}} \\
& \quad && \implies && A = B
&& \text{Definition \ref{Definition:equality}} \\
& )
\end{align*}
\begin{align*}
& \forall F !\exists A, P(A,F)
&& \text{Similar to the proof of the Proposition \ref{Proposition:uniqueness_of_empty_set}} \\
\implies & \forall F !\exists A \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F)))) && \text{Definition of P(A,F)} \\
\end{align*}
\end{prop}

\begin{defn}
\label{Definition:union_set}
The unique union set of F is denoted by $\bigcup F$. \\
Let $P(A,F) =  \forall x (x \in A \iff (\exists Y ((x \in Y) \land (Y \in F))))$ \\
Similar to the proof of Definition \ref{Definition:emptyset},
\begin{align*}
\forall F P(\bigcup F, F)
\end{align*}
Similar to the proof of Proposition \ref{Proposition:uniqueness_of_emptyset},
\begin{align*}
\forall F \forall A (P(A,F) \implies (A= \bigcup F ))
\end{align*}
\end{defn}

\begin{defn}
\label{Definition:pairwise_union}
Definition of pairwise union $A \cup B$.
\begin{align*}
& A \cup B \\
\overset{\operatorname{def}}{=} & \bigcup \{ A,B \}
\end{align*}
\end{defn}

\begin{prop}
\label{Proposition:pairwise_union_property}
Property of pairwise union.
\begin{align*}
\forall A \forall B \forall x (x \in (A \cup B) \iff ((x \in A) \lor (x \in B)))
\end{align*}
Proof:
\begin{align*}
& \forall A \forall B \forall x ( \\
& \quad && && x \in (A \cup B) \\
& \quad && \iff && x \in  \bigcup \{ A,B \}
&& \text{Definition \ref{Definition:equality} and \ref{Definition:pairwise_union}} \\
& \quad && \iff && \exists Y ((x \in Y) \land (Y \in \{ A,B \} ))
&& \text{Definition \ref{Definition:union_set}} \\
& \quad && \iff && \exists Y ((x \in Y) \land ((Y = A) \lor (Y = B) ))
&& \text{Definition \ref{Definition:pair_set}} \\
& \quad && \iff && \exists Y( ((x \in Y) \land (Y = A)) \lor ((x \in Y) \land (Y = B)) )
&& \text{Proposition \ref{Proposition:land_lor_distributivity_1}} \\
& \quad && \iff && (\exists Y ((x \in Y) \land (Y = A))) \lor (\exists Y ((x \in Y) \land (Y = B)))
&& \text{Proposition \ref{Proposition:exists_lor_commutativity}} \\
& \quad && \iff && ((x \in A) \lor (x \in B)) \\
& \quad && && \text{Axiom \ref{Axiom:axiom_of_substitution} with $P(A,x) = (x \in A)$} \\
& )
\end{align*}
\end{prop}

\begin{prop}
\label{Proposition:union_commutativity}
Commutativity of $\cup$.
\begin{align*}
\forall x \forall y ((x \cup y) = (y \cup x))
\end{align*}
Proof:
\begin{align*}
& \forall x \forall y ( \\
& \quad && && (x \cup y) = (y \cup x) \\
& \quad && \iff && \forall z (z \in (x \cup y) \iff z \in (y \cup x))
&& \text{Definition \ref{Definition:equality}} \\
& \quad && \iff && \forall z( ((z \in x) \lor (z \in y)) \iff ((z \in y) \lor (z \in x)) )
&& \text{Proposition \ref{Proposition:pairwise_union_property}} \\
& \quad && \iff && \forall z( ((z \in x) \lor (z \in y)) \iff ((z \in x) \lor (z \in y)) )
&& \text{Proposition \ref{Proposition:lor_commutativity}} \\
& \quad && \iff && \text{True}
&& \text{Proposition \ref{Proposition:iff_reflexive}} \\
& )
\end{align*}
\end{prop}

\begin{prop}
\label{Proposition:union_identity}
Identity of $\cup$.
\begin{align*}
\forall x ((x \cup \emptyset) = x)
\end{align*}
Proof:
\begin{align*}
& \forall x ( \\
& \quad && && (x \cup \emptyset) = x \\
& \quad && \iff && \forall y(y \in (x \cup \emptyset) \iff (y \in x))
&& \text{Definition \ref{Definition:equality}} \\
& \quad && \iff && \forall y(((y \in x) \lor (y \in \emptyset)) \iff (y \in x))
&& \text{Proposition \ref{Proposition:pairwise_union_property}} \\
& \quad && \iff && \forall y(((y \in x) \lor ( \lnot (\lnot (y \in \emptyset))) ) \iff (y \in x))
&& \text{Proposition \ref{Proposition:double_negation}} \\
& \quad && \iff && \forall y(((y \in x) \lor ( \lnot (y \notin \emptyset))) \iff (y \in x))
&& \text{Definition \ref{Definition:notin}} \\
& \quad && \iff && \forall y(((y \in x) \lor ( \lnot (\text{True}))) \iff (y \in x))
&& \text{Definition \ref{Definition:emptyset}} \\
& \quad && \iff && \forall y(((y \in x) \lor (\text{False})) \iff (y \in x))
&& \text{Definition \ref{Definition:lnot_True}} \\
& \quad && \iff && \forall y((y \in x) \iff (y \in x))
&& \text{Proposition \ref{Proposition:lor_identity_1}} \\
& \quad && \iff && \text{True}
&& \text{Proposition \ref{Proposition:iff_reflexive}} \\
& )
\end{align*}
\end{prop}

\begin{defn}
\label{Definition:zero}
Definition of 0.
\begin{align*}
0 \overset{\operatorname{def}}{=} \emptyset
\end{align*}
\end{defn}

\begin{defn}
\label{Definition:successor}
Definition of successor $S(x)$.
\begin{align*}
& S(x) \\
\overset{\operatorname{def}}{=} & x \cup \{ x \}
\end{align*}
\end{defn}

\begin{defn}
\label{Definition:one}
Definition of 1.
\begin{align*}
1 \overset{\operatorname{def}}{=} & S(0) \\
= & 0 \cup \{ 0 \} && \text{Definition \ref{Definition:successor}} \\
= & \emptyset \cup \{ \emptyset \} && \text{Definition \ref{Definition:zero}} \\
= & \{ \emptyset \} \cup \emptyset && \text{Proposition \ref{Proposition:union_commutativity}} \\
= & \{ \emptyset \} && \text{Proposition \ref{Proposition:union_identity}} \\
\end{align*}
\end{defn}